
This chapter presents the interactions that take place between the components we have described previously.

\section{Outer Robot Controllers}

The outer robot controllers interact with the input stack controllers, the output stack controllers, and the airlock controllers (each outer robot controller interacts \textit{only} with its corresponding controller).

\begin{tabular}{ l l l }
  s_robotState(rID, ): & (rID: R1, R2 --  & Sends the state of the robot to other controllers \\
  &  p: OPEN, CLOSED) & \\
\end{tabular}

\section{Input Stack Controllers}

The input stack controllers determine whether the input stacks are empty or not, and interact with the robot controllers to indicate whether wafers can be picked up by the robots (if the stacks aren't empty) or not. If not, an external interaction is needed to symbolize that the stacks are refilled. 

\begin{tabular}{ l l l }
  s_inputStack(id): & (id: I1 .. I2) -- & Provides the state \\
  &  & of the input stack as empty/not. \\
\end{tabular}

\section{Output Stack Controllers}

The output stack controllers determine whether the output stacks are full or not, and interact with the robot controllers to indicate whether wafers can be dropped by the robots (if the stacks aren't full) or not. If not, an external interaction is needed to symbolize that the stacks are emptied to allow wafers to be dropped. 

\begin{tabular}{ l l l }
  s_outputStack(id): & (id: O1, O2) & Provides the state of  \\
  & & the output stack as full/not. \\
\end{tabular}

\section{Airlock Controllers}

The airlock controllers control the airlock doors and provide information based on the status of the wafer sensors. Each airlock controller interacts with the R3 controller, and the corresponding outer robot controller to transfer wafers into and out of the vacuum chamber. 

\begin{tabular}{ l l l }
	s_airlockState(id): & (id: A1, A2) & Send the state of the airlock \\
	& & and its doors. \\
\end{tabular}

\section{Inner Robot Controller}

The inner robot (R3) controller controls the movement of the robot to/from the airlocks from/to the lamp, and the picking up and dropping of wafers in the three locations. It interacts with the lamp controller and the airlock controllers to move wafers around and get them projected and transferred to the airlocks.

\begin{tabular}{ l l l }
	s_robotState(r): & (R3) & Sends the state of  \\
	& & the inner robot. \\
\end{tabular}

\section{Lamp Controller}

The lamp controller interacts with the R3 controller to receive one wafer at a time, and makes the lamp project the wafer before signalling to the R3 controller to take it out, and also the turning on and off of the lamp.

\begin{tabular}{ l l l }
	s_lampState(r): & (a: I1, I2 -- r : Empty, Not-Empty) & Sends the state of  \\
	& & the lamp as on/off\\
\end{tabular}

\section{External Interactions}

The following actions can be performed by a user upon the components of the system. The system is not expected to have any user input, but some external interactions are needed in case the airlock doors get stuck, an input stack becomes empty, or an output stack becomes full.

\begin{tabular}{ l l l }
	user_fillStack(a): & (a: I1, I2) & Fill the corresponding stack with wafers. \\
	user_emptyStack(a): & (a: O1, O2) & Empty the corresponding stack. \\
	user_repairDoor(a): & (a: DO1, DO2, DI1, DI2) & Repair the corresponding door. \\
\end{tabular}