
The first step of the design process is to identify the requirements for the wafer projecting system we are considering. The components described in the previous chapter will have to follow some defined set of behaviors so as to meet all the requirements of the system, as will be presented hence.\\
The requirements are presented in the form of safety requirements and liveness requirements, and are verifiable using formal logic.

\section{Safety Requirements}

These requirements ensure that the system is always in a stable state, that is, each one of them needs to be satisfied by the components for us to say that the system is behaving normally; the violation of even one of these requirements would mean that the system has malfunctioned.

\begin{enumerate}
\item Airlocks:
    \begin{enumerate}
    \item DI1/DI2 can only be opened if DO1/DO2 is closed.
    \item DO1/DO2 can only be opened if DI1/DI2 is closed.
    \end{enumerate}

\item Output stacks:
    \begin{enumerate}
    \item A wafer can only be placed into the output stack only if it was projected by the lamp.
    \end{enumerate}

\item Lamp:
    \begin{enumerate}
    \item The lamp can project only a wafer at a time.
    \item The lamp can project a wafer only once.
    \end{enumerate}
    
\item Robots:
    \begin{enumerate}
    \item Robots can pick-up/drop only one wafer at a time.
    \item R1/R2 can only drop a wafer into O1/O2 if the stack is not full.
    \item R1/R2 can only pick-up a wafer from I1/I2 if the stack is not empty.
    \item R1/R2 can only pick-up a wafer from A1/A2 if DO1/DO2 is open.
    \item R1/R2 can only drop a wafer in A1/A2 if DO1/DO2 is open.
    \item R3 can only pick-up a wafer from A1/A2 if DI1/DI2 is open.
    \item R3 can only drop a projected wafer in A1/A2 if DI1/DI2 is open.
    \item After picking-up a wafer from A1/A2, R3 can only drop it into the lamp.
    \item After picking-up a wafer from the lamp, R3 can only drop it into A1/A2.
    \item R1 can pick-up wafers from I1 and drop them only into A1.
    \item R2 can pick-up wafers from I2 and drop them only into A2.
    \item R1 can pick-up wafers from A1 and drop them only into O1.
    \item R2 can pick-up wafers from A2 and drop them only into O2.
    \end{enumerate}
\end{enumerate}

\section{Liveness Requirements}

The following liveness requirements ensure the movement of the wafers throughout the system.

\begin{enumerate}
    \item From the input stack, a wafer should always be able to reach the lamp.
    \item From the lamp, a wafer should always be able to reach the output stack.
    \item The system must be deadlock-free.
\end{enumerate}